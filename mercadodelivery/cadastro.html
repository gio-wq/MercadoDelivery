<!DOCTYPE html>
<html>
<head>
	<title>Cadastro - MercadoDelivery</title>
	<link rel="stylesheet" href="\mercadodelivery/css/cadastro-style.css"/>
	<meta charset="UTF-8"/>
	<link href="https://fonts.googleapis.com/css2?family=Crete+Round&display=swap" rel="stylesheet"> 
	<link href="https://fonts.googleapis.com/css2?family=Glegoo&family=Sansita&family=Solway&display=swap" rel="stylesheet">  
	<!-- Confirmação da senha -->
	<script type="text/javascript">
	function funcadm(){
		email = window.document.cad_user.email_cliente.value;
		nome = window.document.cad_user.nome_cliente.value;
		if(email=='ADM' || nome=='ADM'){
			document.getElementById('msg_email').innerHTML = "Endereço de e-mail não disponível";
		}
	}
	
	function funcsenha(){
		senha=window.document.cad_user.senha.value;
		senha_check= window.document.cad_user.senha_check.value;
		cadastrar= window.document.cad_user.cadastrar;
		if (senha != senha_check){
			document.getElementById('msg_senha').innerHTML = "Suas senhas não conferem! Tente novamente";
		}else if(senha == '' && senha_check == ''){
			document.getElementById('msg_senha').innerHTML = "Confirme sua senha!";
		}else{
			document.getElementById('msg_senha').innerHTML = "Suas senhas conferem!";
			cadastrar.disabled=false;
		}
	}
	function cpf_mask(){
		cpf=window.document.cad_user.cpf_cliente.value;
		var cpf_input = document.getElementById('campo_cpf');
		var att = document.createAttribute("maxlength");
      	att.value = "14";
		if (cpf!='' && cpf.includes(".")==false){
			cpf_input.setAttributeNode(att);	
			part1 = cpf.slice(0,3);
			part2 = cpf.slice(3,6);
			part3 = cpf.slice(6,9);
			part4 = cpf.slice(9,13);
			cpf_new = part1.concat(".",part2,".",part3,"-",part4);
			window.document.cad_user.cpf_cliente.value = cpf_new;
		}
	}

	 function isNumberKey(evt)
      {
         var charCode = (evt.which) ? evt.which : event.keyCode
         if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;

         return true;
      }

	function cep_mask(){
		cep=window.document.cad_user.cep.value;
		var cep_input = document.getElementById('campo_cep');
		var att = document.createAttribute("maxlength");
      	att.value = "9";
      	cep_input.setAttributeNode(att);
		if (cep!='' && cep.includes("-")==false){
			part1 = cep.slice(0,5);
			part2 = cep.slice(5,9);
			cep_new = part1.concat("-",part2);
			window.document.cad_user.cep.value = cep_new;
		}
	}
	function validar_idade(){
		data = window.document.cad_user.nasc_cliente.value;
		cadastrar= window.document.cad_user.cadastrar;
		ano = data.slice(0,4);
		data_atual = new Date();
		ano_atual = data_atual.getFullYear();
		idade = ano_atual - ano;
		if (idade<18){
			document.getElementById('msg_idade').innerHTML = "Menores de idade não podem se cadastrar";
			cadastrar.disabled=true;
		}else{
			document.getElementById('msg_idade').innerHTML = "";
			cadastrar.disabled=false;
		}
	}

</script>
</head>
<body> 
	<div id="intro">
	<figure><a href="\mercadodelivery/index.php"><img src='imagens/logo.png' id='' width='120'/></a></figure>

  </div>
	
	<img src='\mercadodelivery/imagens/4043.jpg' id='background-img'>

	<div id='form-cad'>
		<center>
			<h2>Cadastro</h2>
		</center>
		<form name='cad_user' method='post' action='\mercadodelivery/scripts/cad_cliente.php'>
		<p>
			<label>Nome:</label><br/>
			<input type='text' name='nome_cliente' size='40' maxlength='255' placeholder='Exemplo: João Veira dos Santos' required onblur='funcadm()'/>
			<p id='msg_adm'></p>
		</p>
		<p>
			<label>CPF:</label><br/>
			<input type='text' name='cpf_cliente' id='campo_cpf' size='40' maxlength='11' onblur='cpf_mask()' onkeypress="return isNumberKey(event)" required/>
		</p>
		<p>
			<label>E-mail:</label><br/>
			<input type='email' size='40' name='email_cliente' maxlength='255' placeholder='exemplo@hotmail.com' onblur='funcadm()'required/>
			<p id='msg_adm'></p>
		</p>
		<p>
			<fieldset>
			<label>Senha:</label><br/>
			<input type='password' size='40' name='senha' maxlength='8' placeholder='até 8 caracteres'required/>
		<br>
			<label>Confirme sua senha:</label><br/>
			<input type='password' size='40' name='senha_check' onblur='funcsenha()' placeholder='Digite sua senha novamente' required/>
			<p id='msg_senha'></p>
			</fieldset>
		</p>
		<p>
			<label>Data de Nascimento:</label><br/>
			<input type='date' name='nasc_cliente' onblur='validar_idade()' required/>
			<p id='msg_idade'></p>
		</p>
		<p>
			<label>CEP:</label><br/>
			<input type='text' size='40' name='cep' id='campo_cep' maxlength='8' placeholder='XXXXX-XXX' onblur='cep_mask()' onkeypress="return isNumberKey(event)" required/>
			
		</p>
		<p>
			<label>Logradouro:</label><br/>
			<select name='logra' required>
				<option value=' ' disabled> </option>
				<option value='alameda'>Alameda</option>
				<option value='avenida'>Avenida</option>
				<option value='esplanada'>Esplanada</option>
				<option value='estrada'>Estrada</option>
				<option value='jardim'>Jardim</option>
				<option value='largo'>Largo</option>
				<option value='loteamento'>Loteamento</option>
				<option value='parque'>parque</option>
				<option value='quadra'>Quadra</option>
				<option value='rodovia'>Rodovia</option>
				<option value='rua'>Rua</option>
				<option value='sitio'>S&iacute;tio</option>
				<option value='travessa'>Travessa</option>
				<option value='via'>Via</option>
				<option value='viaduto'>Viaduto</option>
				<option value='viela'>Viela</option>
				<option value='vila'>Vila</option>
			</select>
		</p>
		<p>
			<label>Endereço:</label><br/>
			<input type='text' size='40' name='endereco' maxlength='200' placeholder='Exemplo: Das Américas' required/>
		</p>
		<p>
			<label>Complemento:</label><br/>
			<input type='text' name='comple' maxlength='50' size='40'/>
		</p>
			<input type='submit' name='cadastrar' value='Cadastrar' id='btn' disabled='true'/>
		</form>	
	</div>
<footer>
		<center>
		<p>Desenvolvido pelo <a href=''>Grupo Ártemis&reg;</a></p>
		<p>Direitos reservados&copy;</p>
		</center>
	</footer>
	</body>
</html>